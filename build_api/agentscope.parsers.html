<!-- layout.html -->


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>agentscope.parsers &mdash; AgentScope Doc  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/gallery.css?v=333a68b5" />

  
    
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/language_switch.js?v=6d1ec912"></script>
    <script src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/language_switch.js"></script>

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="agentscope.rag" href="agentscope.rag.html" />
    <link rel="prev" title="agentscope.memory" href="agentscope.memory.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    
    
    <a href="../index.html" 
       class="icon icon-home" >
        AgentScope Doc
    </a>

    <div class="language-switch-container">
        <button class="language-switch-button" onclick="toChinese()">
            中文
        </button>
        |
        <button class="language-switch-button" onclick="toEnglish()">
            EN
        </button>
    </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/message.html">Message</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/agent.html">Build Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/conversation.html">Build Conversation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FQA</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/faq.html">FQA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Task Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/model.html">Model APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/prompt.html">Prompt Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/structured_output.html">Structured Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/streaming.html">Streaming Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/builtin_agent.html">Built-in Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/multimodality.html">MultiModality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/visual.html">Visual Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/monitor.html">Configuring and Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/tool.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/MCP.html">MCP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/rag.html">Retrieval Augmentation Generation (RAG)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/hook.html">Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/distribution.html">Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/prompt_optimization.html">System Prompt Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/web_browser.html">Web Browser Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/low_code.html">Low-code Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build_tutorial/examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/swe.html">SWE-Bench</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agentscope.html">agentscope</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.message.html">agentscope.message</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.models.html">agentscope.models</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.agents.html">agentscope.agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.memory.html">agentscope.memory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">agentscope.parsers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.parse"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.parse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.content_hint"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.content_hint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.format_instruction"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.format_instruction</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.name"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.tag_begin"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.tag_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownCodeBlockParser.tag_end"><code class="docutils literal notranslate"><span class="pre">MarkdownCodeBlockParser.tag_end</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.parse"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.parse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.content_hint"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.content_hint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.format_instruction"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.format_instruction</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.name"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.required_keys"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.required_keys</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.tag_begin"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.tag_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonDictParser.tag_end"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonDictParser.tag_end</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.parse"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.parse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.content_hint"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.content_hint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.format_instruction"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.format_instruction</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.name"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.tag_begin"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.tag_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MarkdownJsonObjectParser.tag_end"><code class="docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser.tag_end</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.MultiTaggedContentParser"><code class="docutils literal notranslate"><span class="pre">MultiTaggedContentParser</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MultiTaggedContentParser.parse"><code class="docutils literal notranslate"><span class="pre">MultiTaggedContentParser.parse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MultiTaggedContentParser.format_instruction"><code class="docutils literal notranslate"><span class="pre">MultiTaggedContentParser.format_instruction</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.MultiTaggedContentParser.json_required_hint"><code class="docutils literal notranslate"><span class="pre">MultiTaggedContentParser.json_required_hint</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.ParserBase"><code class="docutils literal notranslate"><span class="pre">ParserBase</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.ParserBase.parse"><code class="docutils literal notranslate"><span class="pre">ParserBase.parse()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.RegexTaggedContentParser"><code class="docutils literal notranslate"><span class="pre">RegexTaggedContentParser</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.RegexTaggedContentParser.parse"><code class="docutils literal notranslate"><span class="pre">RegexTaggedContentParser.parse()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.RegexTaggedContentParser.format_instruction"><code class="docutils literal notranslate"><span class="pre">RegexTaggedContentParser.format_instruction</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentscope.parsers.TaggedContent"><code class="docutils literal notranslate"><span class="pre">TaggedContent</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.TaggedContent.content_hint"><code class="docutils literal notranslate"><span class="pre">TaggedContent.content_hint</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.TaggedContent.name"><code class="docutils literal notranslate"><span class="pre">TaggedContent.name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.TaggedContent.parse_json"><code class="docutils literal notranslate"><span class="pre">TaggedContent.parse_json</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.TaggedContent.tag_begin"><code class="docutils literal notranslate"><span class="pre">TaggedContent.tag_begin</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentscope.parsers.TaggedContent.tag_end"><code class="docutils literal notranslate"><span class="pre">TaggedContent.tag_end</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.rag.html">agentscope.rag</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.service.html">agentscope.service</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.prompt.html">agentscope.prompt</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.tokens.html">agentscope.tokens</a></li>
<li class="toctree-l1"><a class="reference internal" href="agentscope.exception.html">agentscope.exception</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AgentScope Doc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">agentscope.parsers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/build_api/agentscope.parsers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-agentscope.parsers">
<span id="agentscope-parsers"></span><h1>agentscope.parsers<a class="headerlink" href="#module-agentscope.parsers" title="Link to this heading"></a></h1>
<p>Model response parser module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MarkdownCodeBlockParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_hint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/code_block_parser.html#MarkdownCodeBlockParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.ParserBase" title="agentscope.parsers.parser_base.ParserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParserBase</span></code></a></p>
<p>The base class for parsing the response text by fenced block.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/code_block_parser.html#MarkdownCodeBlockParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.parse" title="Link to this definition"></a></dt>
<dd><p>Extract the content between the tag_begin and tag_end in the
response and store it in the parsed field of the response object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.content_hint">
<span class="sig-name descname"><span class="pre">content_hint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'${{your_{language_name}_code}}'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.content_hint" title="Link to this definition"></a></dt>
<dd><p>The hint of the content.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.format_instruction">
<span class="sig-name descname"><span class="pre">format_instruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'You</span> <span class="pre">should</span> <span class="pre">generate</span> <span class="pre">{language_name}</span> <span class="pre">code</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">{language_name}</span> <span class="pre">fenced</span> <span class="pre">code</span> <span class="pre">block</span> <span class="pre">as</span> <span class="pre">follows:</span> <span class="pre">\n```{language_name}\n{content_hint}\n```'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.format_instruction" title="Link to this definition"></a></dt>
<dd><p>The instruction for the format of the code block.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{language_name}</span> <span class="pre">block'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.name" title="Link to this definition"></a></dt>
<dd><p>The name of the parser.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.tag_begin">
<span class="sig-name descname"><span class="pre">tag_begin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```{language_name}'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.tag_begin" title="Link to this definition"></a></dt>
<dd><p>The beginning tag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownCodeBlockParser.tag_end">
<span class="sig-name descname"><span class="pre">tag_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownCodeBlockParser.tag_end" title="Link to this definition"></a></dt>
<dd><p>The ending tag.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MarkdownJsonDictParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content_hint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/json_object_parser.html#MarkdownJsonDictParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="agentscope.parsers.json_object_parser.html#agentscope.parsers.json_object_parser.MarkdownJsonObjectParser" title="agentscope.parsers.json_object_parser.MarkdownJsonObjectParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">MarkdownJsonObjectParser</span></code></a>, <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.DictFilterMixin" title="agentscope.parsers.parser_base.DictFilterMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">DictFilterMixin</span></code></a></p>
<p>A class used to parse a JSON dictionary object in a markdown fenced
code</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/json_object_parser.html#MarkdownJsonDictParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the text field of the response to a JSON dictionary object,
store it in the parsed field of the response object, and check if the
required keys exists.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.content_hint">
<span class="sig-name descname"><span class="pre">content_hint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{your_json_dictionary}'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.content_hint" title="Link to this definition"></a></dt>
<dd><p>The hint of the content.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.format_instruction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_instruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.format_instruction" title="Link to this definition"></a></dt>
<dd><p>Get the format instruction for the json object, if the
format_example is provided, it will be used as the example.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'json</span> <span class="pre">block'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.name" title="Link to this definition"></a></dt>
<dd><p>The name of the parser.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.required_keys">
<span class="sig-name descname"><span class="pre">required_keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.required_keys" title="Link to this definition"></a></dt>
<dd><p>A list of required keys in the JSON dictionary object. If the response
misses any of the required keys, it will raise a
RequiredFieldNotFoundError.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.tag_begin">
<span class="sig-name descname"><span class="pre">tag_begin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```json'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.tag_begin" title="Link to this definition"></a></dt>
<dd><p>Opening tag for a code block.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonDictParser.tag_end">
<span class="sig-name descname"><span class="pre">tag_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonDictParser.tag_end" title="Link to this definition"></a></dt>
<dd><p>Closing end for a code block.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MarkdownJsonObjectParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content_hint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/json_object_parser.html#MarkdownJsonObjectParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.ParserBase" title="agentscope.parsers.parser_base.ParserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParserBase</span></code></a></p>
<p>A parser to parse the response text to a json object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/json_object_parser.html#MarkdownJsonObjectParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the response text to a json object, and fill it in the parsed
field in the response object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.content_hint">
<span class="sig-name descname"><span class="pre">content_hint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{your_json_object}'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.content_hint" title="Link to this definition"></a></dt>
<dd><p>The hint of the content.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.format_instruction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_instruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.format_instruction" title="Link to this definition"></a></dt>
<dd><p>Get the format instruction for the json object, if the
format_example is provided, it will be used as the example.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'json</span> <span class="pre">block'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.name" title="Link to this definition"></a></dt>
<dd><p>The name of the parser.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.tag_begin">
<span class="sig-name descname"><span class="pre">tag_begin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```json'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.tag_begin" title="Link to this definition"></a></dt>
<dd><p>Opening tag for a code block.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MarkdownJsonObjectParser.tag_end">
<span class="sig-name descname"><span class="pre">tag_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'```'</span></em><a class="headerlink" href="#agentscope.parsers.MarkdownJsonObjectParser.tag_end" title="Link to this definition"></a></dt>
<dd><p>Closing end for a code block.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.MultiTaggedContentParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultiTaggedContentParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tagged_contents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.parsers.tagged_content_parser.html#agentscope.parsers.tagged_content_parser.TaggedContent" title="agentscope.parsers.tagged_content_parser.TaggedContent"><span class="pre">TaggedContent</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_allow_missing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/tagged_content_parser.html#MultiTaggedContentParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MultiTaggedContentParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.ParserBase" title="agentscope.parsers.parser_base.ParserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParserBase</span></code></a>, <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.DictFilterMixin" title="agentscope.parsers.parser_base.DictFilterMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">DictFilterMixin</span></code></a></p>
<p>Parse response text by multiple tags, and return a dict of their
content. Asking llm to generate JSON dictionary object directly maybe not a
good idea due to involving escape characters and other issues. So we can
ask llm to generate text with tags, and then parse the text to get the
final JSON dictionary object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.MultiTaggedContentParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/tagged_content_parser.html#MultiTaggedContentParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.MultiTaggedContentParser.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the response text by tags, and return a dict of their content
in the parsed field of the model response object. If the tagged content
requires to parse as a JSON object by <cite>parse_json</cite> equals to <cite>True</cite>, it
will be parsed as a JSON object by <cite>json.loads</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MultiTaggedContentParser.format_instruction">
<span class="sig-name descname"><span class="pre">format_instruction</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Respond</span> <span class="pre">with</span> <span class="pre">specific</span> <span class="pre">tags</span> <span class="pre">as</span> <span class="pre">outlined</span> <span class="pre">below{json_required_hint}\n{tag_lines_format}'</span></em><a class="headerlink" href="#agentscope.parsers.MultiTaggedContentParser.format_instruction" title="Link to this definition"></a></dt>
<dd><p>The instruction for the format of the tagged content.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.MultiTaggedContentParser.json_required_hint">
<span class="sig-name descname"><span class="pre">json_required_hint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">',</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">content</span> <span class="pre">between</span> <span class="pre">{}</span> <span class="pre">MUST</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">JSON</span> <span class="pre">object:'</span></em><a class="headerlink" href="#agentscope.parsers.MultiTaggedContentParser.json_required_hint" title="Link to this definition"></a></dt>
<dd><p>If a tagged content is required to be a JSON object by <cite>parse_json</cite>
equals to <cite>True</cite>, this instruction will be used to remind the model to
generate JSON object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.ParserBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ParserBase</span></span><a class="reference internal" href="../_modules/agentscope/parsers/parser_base.html#ParserBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.ParserBase" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>The base class for model response parser.</p>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.ParserBase.parse">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/parser_base.html#ParserBase.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.ParserBase.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the response text to a specific object, and stored in the
parsed field of the response object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.RegexTaggedContentParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RegexTaggedContentParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tagged_content_pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'&lt;(?P&lt;name&gt;[^&gt;]+)&gt;(?P&lt;content&gt;.*?)&lt;/\\1?&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_instruction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_parse_json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_memory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys_to_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/regex_tagged_content_parser.html#RegexTaggedContentParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.RegexTaggedContentParser" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.ParserBase" title="agentscope.parsers.parser_base.ParserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParserBase</span></code></a>, <a class="reference internal" href="agentscope.parsers.parser_base.html#agentscope.parsers.parser_base.DictFilterMixin" title="agentscope.parsers.parser_base.DictFilterMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">DictFilterMixin</span></code></a></p>
<p>A regex tagged content parser, which extracts tagged content according
to the provided regex pattern. Different from other parsers, this parser
allows to extract multiple tagged content without knowing the keys in
advance. The parsed result will be a dictionary within the parsed field of
the model response.</p>
<p>Compared with other parsers, this parser is more flexible and can be used
in dynamic scenarios where
- the keys are not known in advance
- the number of the tagged content is not fixed</p>
<p>Note: Without knowing the keys in advance, it’s hard to prepare a format
instruction template for different scenarios. Therefore, we ask the user
to provide the format instruction in the constructor. Of course, the user
can construct and manage the prompt by themselves optionally.</p>
<p class="rubric">Example</p>
<p>By default, the parser use a regex pattern to extract tagged content
with the following format:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">&lt;{name1}&gt;{content1}&lt;/{name1}&gt;</span>
<span class="pre">&lt;{name2}&gt;{content2}&lt;/{name2}&gt;</span>
<span class="pre">`</span></code>
The parser will extract the content as the following dictionary:
<a href="#id1"><span class="problematic" id="id2">``</span></a>`
{</p>
<blockquote>
<div><p>“name1”: content1,
“name2”: content2,</p>
</div></blockquote>
<section id="id3">
<h2>}<a class="headerlink" href="#id3" title="Link to this heading"></a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="agentscope.parsers.RegexTaggedContentParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="agentscope.models.response.html#agentscope.models.response.ModelResponse" title="agentscope.models.response.ModelResponse"><span class="pre">ModelResponse</span></a></span></span><a class="reference internal" href="../_modules/agentscope/parsers/regex_tagged_content_parser.html#RegexTaggedContentParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.RegexTaggedContentParser.parse" title="Link to this definition"></a></dt>
<dd><p>Parse the response text by the regex pattern, and return a dict of
the content in the parsed field of the response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>response</strong> (<cite>ModelResponse</cite>) – The response to be parsed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The response with the parsed field as the parsed
result.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><cite>ModelResponse</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentscope.parsers.RegexTaggedContentParser.format_instruction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_instruction</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.RegexTaggedContentParser.format_instruction" title="Link to this definition"></a></dt>
<dd><p>The format instruction for the tagged content.</p>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">TaggedContent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_begin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_hint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_json</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentscope/parsers/tagged_content_parser.html#TaggedContent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentscope.parsers.TaggedContent" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A tagged content object to store the tag name, tag begin, content hint
and tag end.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent.content_hint">
<span class="sig-name descname"><span class="pre">content_hint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.TaggedContent.content_hint" title="Link to this definition"></a></dt>
<dd><p>The hint of the content.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.TaggedContent.name" title="Link to this definition"></a></dt>
<dd><p>The name of the tagged content, which will be used as the key in
extracted dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent.parse_json">
<span class="sig-name descname"><span class="pre">parse_json</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#agentscope.parsers.TaggedContent.parse_json" title="Link to this definition"></a></dt>
<dd><p>Whether to parse the content as a json object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent.tag_begin">
<span class="sig-name descname"><span class="pre">tag_begin</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.TaggedContent.tag_begin" title="Link to this definition"></a></dt>
<dd><p>The beginning tag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentscope.parsers.TaggedContent.tag_end">
<span class="sig-name descname"><span class="pre">tag_end</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#agentscope.parsers.TaggedContent.tag_end" title="Link to this definition"></a></dt>
<dd><p>The ending tag.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="agentscope.memory.html" class="btn btn-neutral float-left" title="agentscope.memory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="agentscope.rag.html" class="btn btn-neutral float-right" title="agentscope.rag" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Alibaba.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>